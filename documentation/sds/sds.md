# SDS

### Содержание
1. [Используемые технологии](#1) <br>
    1.1. [Java 15](#1.1) <br>
    1.2. [Spring Boot 2.2.5.RELEASE](#1.2) <br>
    1.3. [Telegram Bot API 4.9.1](#1.2) <br>
    1.4. [Youtube-dl API 1.0](#1.3) <br>
    1.5. [Sqlite-jdbc API 3.32.3.2](#1.4) <br>
    1.6. [JAVE 2.3.7](#1.5)
2. [API бота](#2)
3. [Структура БД] 

### 1. Используемые технологии <a name="1"></a>
#### 1.1. Java 15 <a name="1.1"></a>
Основной язык разработки.

#### 1.2. Spring Boot 2.2.5.RELEASE <a name="1.2"></a>
В проекте используется фреймворк Spring, т.к. он предоставляет удобный и гибкий механизм конфигурирования приложения. Данный фреймворк используется для построения серверной части и бизнес логики приложения.

#### 1.3. Telegram Bot API 4.9.1 <a name="1.3"></a>
Данный фреймворк предоставляет удобный интерфейс для взаимодействия с Telegram API при помощи Java. Удобство этого фреймворка заключается в том, что он инкапсулирует все запросы к Telegram API соответсвующими java-классами.

#### 1.4. Youtube-dl API 1.0 <a name="1.3"></a>
Это API, написанное на Java предоставляет удобный и понятный интерфейс для взяимодействия с приложением youtube-dl, которое позволяет скачивать медиафайлы со стримингового сервиса YouTube. Посредством данного приложения и API, для работы с ним, реализован процес скачивания медиафайлов.

#### 1.5. Sqlite-jdbc API 3.32.3.2 <a name="1.4"></a>
Данный API используется взаимодействия приложения с БД SQLite-3.

#### 1.6. JAVE 2.3.7 <a name="1.5"></a>
Это библиотека для работы с видео- и аудиофайлами. При помощи данной библиотеки происходит конвертирование виодеофайлов в аудиофайлы.

### API бота <a name="2"></a>
Для взаимодействия бота с Telegram, бота нужно зарегестрировать и получить токен, который будет частью `url`, на который бот будет отправлять ответы. Существует два типа реализации ботов в Telegram:
 * Polling bots
 * Webhook bots <br>
 
Первый тип ботов отправляет запрос к Telegram через заданный промежуток времени ***(назовем такой тип ботов активными)***, а второй — получает от Telegram запрос с информацией от пользователей ***(назовоем такой тип ботов пассивными)***.  <br>
Данный бот является пассивным, т. е. Telegram присылает запрос боту в том случае, если к боту обратился пользователь. В свою очередь бот обрабатывает запрос пользователя и отправляет ответ назад. <br>
Вот как выглядит обработчик запросов от Telegram:

```java
@RequestMapping(value = "/", method = RequestMethod.POST)
	public BotApiMethod onUpdateReceived(@RequestBody Update update) {
		return ydBot.onWebhookUpdateReceived(update);
}
```
После обработки пользовательского ввода бот может отправить сообщение, видео- или аудиофайл.
